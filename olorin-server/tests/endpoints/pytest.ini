[tool:pytest]
# Pytest configuration for Olorin Endpoint Testing Framework
log_level = INFO
addopts = 
    --verbose
    --tb=short
    --asyncio-mode=auto
    --capture=no
    --color=yes
    --durations=10
    --strict-markers

# Test discovery
testpaths = 
    tests/endpoints

python_files = 
    test_*.py

python_classes = 
    Test*

python_functions = 
    test_*

# Async support
asyncio_mode = auto

# Custom markers
markers =
    slow: marks tests as slow (taking more than 30 seconds)
    integration: marks tests as integration tests
    auth: marks tests that require authentication
    health: marks health check tests
    analysis: marks analysis endpoint tests
    agents: marks agent system tests
    websocket: marks WebSocket tests
    error_handling: marks error handling tests

# Minimum Python version
minversion = 3.11

# Test timeout (10 minutes for comprehensive suite)
# timeout = 600  # Requires pytest-timeout plugin - using faulthandler_timeout instead
faulthandler_timeout = 600

# Log configuration
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

log_file = tests/endpoint_test_execution.log
log_file_level = DEBUG
log_file_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s (%(filename)s:%(lineno)d)
log_file_date_format = %Y-%m-%d %H:%M:%S

# Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning