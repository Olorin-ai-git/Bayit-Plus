{
  "endpoint": "GET /api/v1/reports/investigations/",
  "description": "List all investigation reports with filtering and pagination",
  "authentication": "Required - JWT token in Authorization header",
  "request": {
    "query_parameters": {
      "page": {
        "type": "integer",
        "default": 1,
        "minimum": 1,
        "description": "Page number for pagination"
      },
      "limit": {
        "type": "integer",
        "default": 20,
        "minimum": 1,
        "maximum": 100,
        "description": "Number of reports per page"
      },
      "investigation_id": {
        "type": "string",
        "required": false,
        "description": "Filter by investigation ID (partial match)"
      },
      "scenario": {
        "type": "string",
        "required": false,
        "description": "Filter by scenario type"
      },
      "risk_level": {
        "type": "string",
        "enum": ["low", "medium", "high", "critical"],
        "required": false,
        "description": "Filter by risk level"
      },
      "date_range_start": {
        "type": "string",
        "format": "iso8601",
        "required": false,
        "description": "Filter reports generated after this date"
      },
      "date_range_end": {
        "type": "string",
        "format": "iso8601",
        "required": false,
        "description": "Filter reports generated before this date"
      },
      "status": {
        "type": "string",
        "enum": ["draft", "generating", "ready", "failed"],
        "required": false,
        "description": "Filter by report status"
      },
      "owner": {
        "type": "string",
        "required": false,
        "description": "Filter by report owner email"
      }
    }
  },
  "response": {
    "success": {
      "status": 200,
      "body": {
        "reports": {
          "type": "array",
          "description": "Array of report objects (without html_content)"
        },
        "total": {
          "type": "integer",
          "description": "Total number of reports matching filters",
          "example": 157
        },
        "page": {
          "type": "integer",
          "description": "Current page number",
          "example": 1
        },
        "limit": {
          "type": "integer",
          "description": "Reports per page",
          "example": 20
        },
        "pages": {
          "type": "integer",
          "description": "Total number of pages",
          "example": 8
        }
      }
    }
  },
  "example_request": {
    "curl": "curl -X GET 'https://api.olorin.com/api/v1/reports/investigations/?risk_level=critical&page=1&limit=20' \\\n  -H 'Authorization: Bearer eyJ...'",
    "python": "import requests\n\nresponse = requests.get(\n    'https://api.olorin.com/api/v1/reports/investigations/',\n    headers={'Authorization': 'Bearer eyJ...'},\n    params={'risk_level': 'critical', 'page': 1, 'limit': 20}\n)\ndata = response.json()",
    "javascript": "const response = await fetch(\n  'https://api.olorin.com/api/v1/reports/investigations/?risk_level=critical&page=1&limit=20',\n  {\n    headers: {'Authorization': 'Bearer eyJ...'}\n  }\n);\nconst data = await response.json();"
  }
}
