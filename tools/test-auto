#!/bin/bash
# test-auto Command
# Runs comprehensive autonomous investigation tests with python-tests-expert

# Colors for output
BLUE='\033[0;34m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

echo -e "${BLUE}═══════════════════════════════════════════════════════════════${NC}"
echo -e "${BLUE}    Olorin Autonomous Investigation Test Suite                 ${NC}"
echo -e "${BLUE}    Using python-tests-expert subagent                        ${NC}"
echo -e "${BLUE}═══════════════════════════════════════════════════════════════${NC}"
echo ""

# Check if we should use Claude Task API or direct execution
if [ -n "$CLAUDE_TASK_API" ]; then
    echo -e "${GREEN}Using Claude Task API with python-tests-expert subagent${NC}"
    # This would invoke Claude's Task API with the python-tests-expert
    claude_task_command="Task(subagent_type='python-tests-expert', description='Run autonomous tests', prompt='Execute all test phases with automatic fixes and detailed reporting')"
    echo "$claude_task_command"
else
    echo -e "${YELLOW}Running test orchestrator directly${NC}"
    # Direct execution for testing
    cd /Users/gklainert/Documents/olorin
    python3 scripts/tools/test_orchestrator.py "$@"
fi