{# Email Footer - Links, Unsubscribe, Legal #}
{% macro footer(unsubscribe_url='', privacy_url='', terms_url='', support_url='', company_name='', address='') %}
<table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="margin-top: 32px; border-top: 1px solid rgba(126, 34, 206, 0.15);">
    <tr>
        <td style="padding: 24px 0 8px 0;">
            {# Footer links #}
            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td align="center" style="padding-bottom: 16px;">
                        {% if privacy_url %}
                        <a href="{{ privacy_url }}" target="_blank" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 12px; color: #9ca3af; text-decoration: underline;">{{ t('email.footer.privacy', 'Privacy Policy') }}</a>
                        <span style="color: #4b5563; padding: 0 8px;">|</span>
                        {% endif %}
                        {% if terms_url %}
                        <a href="{{ terms_url }}" target="_blank" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 12px; color: #9ca3af; text-decoration: underline;">{{ t('email.footer.terms', 'Terms of Service') }}</a>
                        <span style="color: #4b5563; padding: 0 8px;">|</span>
                        {% endif %}
                        {% if support_url %}
                        <a href="{{ support_url }}" target="_blank" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 12px; color: #9ca3af; text-decoration: underline;">{{ t('email.footer.support', 'Support') }}</a>
                        {% endif %}
                    </td>
                </tr>
            </table>

            {# Unsubscribe link #}
            {% if unsubscribe_url %}
            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td align="center" style="padding-bottom: 12px;">
                        <a href="{{ unsubscribe_url }}" target="_blank" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 11px; color: #6b7280; text-decoration: underline;">{{ t('email.footer.unsubscribe', 'Unsubscribe from these emails') }}</a>
                    </td>
                </tr>
            </table>
            {% endif %}

            {# Legal / Company info #}
            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td align="center" style="padding-bottom: 8px;">
                        <p style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 11px; color: #6b7280; margin: 0; line-height: 1.5;">
                            {% if company_name %}{{ company_name }}{% endif %}
                            {% if address %}<br/>{{ address }}{% endif %}
                        </p>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
{% endmacro %}
